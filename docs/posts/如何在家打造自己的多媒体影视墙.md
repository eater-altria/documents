---
title: 如何在家打造自己的多媒体影视墙
date: 2025-11-15
author: Altria
categories:
  - 技术指南
tags:
  - 家庭影院
  - NAS
  - 媒体服务器
  - Jellyfin
description: 打造属于你的家庭影院体验，从硬件选择到软件配置的完整指南
---

# 如何自家打造自己的多媒体影视墙

> 打造属于你的家庭影院体验

## 简介

家庭影视墙是现代家庭娱乐的重要组成部分。本指南将帮助你从零开始搭建一套完整的家庭影视系统，包括硬件选择、软件配置、网络优化等方面的内容。

## 目录

- [简介](#简介)
- [事先准备](#事先准备)
- [软路由准备](#软路由准备)
  - [unraid刷入](#unraid刷入)
  - [unraid配置](#unraid配置)
    - [配置硬盘阵列](#配置硬盘阵列)
    - [配置网口直连](#配置网口直连)
  - [通过虚拟机刷入openwrt](#通过虚拟机刷入openwrt)
    - [下载openwrt镜像](#下载openwrt镜像)
    - [安装openwrt虚拟机](#安装openwrt虚拟机)
    - [openwrt配置](#openwrt配置)
- [Apple TV 准备](#apple-tv-准备)
  - [注册美区账户](#注册美区账户)
  - [购买软件](#购买软件)
- [构建影视墙](#构建影视墙)
  - [服务端搭建](#服务端搭建)
  - [电视端接入](#电视端接入)

## 事先准备

首先我们需要准备好一系列的硬件。包括

- Apple TV——苹果的机顶盒，价格大致1000以内
- N100 软路由——未必需要N100，软路由型号有不少，不过目前N100 是最强大的x86架构的软路由，4网口16G/128GB的大概800左右，这个非必须，如果你只需要看服务器上的资源，没有本地资源的需求，且没有翻墙需求，这个可以不用。
- 一个好的U盘。好的U盘具有全球唯一的uuid，用于装软路由系统，如果你不需要软路由，则不需要这个。
- 一个苹果的美区账户
- 一个可以在美区支付的支付方式，可以是国外信用卡（国内发行的visa不行），没有支付方式的可以直接去淘宝买充值卡
- Infuse，本期最核心的软件，影视墙软件就是它，需要用苹果账户在美区购买，价格大致100一年。
- 一个存资源的机械硬盘，这个不是刚需，Infuse可以直接添加远程服务器（比如emby）服务器。



## 软路由准备

软路由在这里面的核心功能是：

- 提供翻墙服务，这样可以在Apple TV上看YouTube或者Netflix等需要翻墙才可以看的流媒体。注意，Apple TV上也有翻墙软件用，软路由的翻墙功能不是必须的。
- 提供NAS服务，所谓的NAS，可以简单理解成一个个人存储服务器，可以把资源放在NAS上，Apple TV连接NAS，就可以看本地资源了。
- 全屋翻墙，实现家里所有设备连接Wi-Fi之后即可翻墙，不需要手机电脑等设备上安装梯子。
- 如果你有公网IP，可以直接在外地看家里存的本地番剧。



这里我采取的软路由软件框架是：使用一个支持虚拟机的NAS系统，将NAS系统刷入到软路由，然后在NAS系统里，通过虚拟机跑一个路由器系统。我这里采取的方案是，NAS系统使用unraid，路由器系统选择openwrt-lite，现在不熟悉没关系，下面会手把手教你。

### unraid刷入

首先，unraid是一个付费操作系统，作为程序员，这里仍旧推荐大家支持正版软件，但是如果实在家境不宽裕，unraid也有所谓的【开心版】，是不花钱的，这里只介绍unraid的正版刷入方式，如果需要开心版，请B站搜索【unraid开心版】，会有详细的攻略。

我们首先需要下载一个unraid的安装工具，这个工具可以直接去官网下载。下载链接为：

https://unraid.net/getting-started

有Windows版本和Mac版本。

然后我们需要把事先准备好的U盘插入电脑，使用刷机软件把镜像刷入U盘，操作非常简单。只需要打开unraid的安装工具：

![img](https://images.altriayu.uk/blog/1760680864049-290ae697-f8a8-43aa-8ebb-1633823ce0e8.png)

这里有个小技巧，Network Mode 可以提前设置为静态IP，否则家里局域网设备多的话，容易找不到，设置静态IP记得正确设置子网掩码。

设置完之后点击写入，U盘就成了启动盘了。

我们将事先准备的mini主机，插上U盘，在BIOS上设置启动项，启动之后，就可以访问unraid的网页控制台了



### unraid配置

![img](https://images.altriayu.uk/blog/1760681022111-6df90605-1e13-460d-8462-f5cfb67aa40a.png)

浏览器输入上一步设置的静态IP，就到了登录台，输入密码之后点击SET PASSWORD 就登录成功了。

#### 配置硬盘阵列

我们可以用外置硬盘盒放置硬盘，用USB接口连接到主机，unraid会自动识别。识别之后就可以设置磁盘阵列。所谓磁盘阵列，就是raid模式。可以参考我的配置，奇偶校验不是必须的，但是可以大幅度提高数据安全，防止坏盘导致的数据丢失。注意，启用阵列会格式化硬盘，请在启用之前备份文件。

![img](https://images.altriayu.uk/blog/1760926739985-f8080d0c-f5db-4f04-86e0-fa4c581c05a7.png)

点击此盘左侧的分享按钮进入文件管理页面，在这里我们可以添加文件夹，方便我们管理文件。我们可以新建一个文件夹，作为自己的家用网盘、存储文件、电影等内容。



配置完硬盘之后，就可以设置共享目录，被共享的目录可以通过smb协议访问：

![img](https://images.altriayu.uk/blog/1760681921273-656010e8-1d7b-474a-bc4a-b7dbc84396ff.png)



然后，我们可以新建一个用户，这样我们就可以通过用户名和密码访问我们的文件服务器了。点击【用户】--> 【添加用户】即可新建一个用户。新建用户界面，我们可以打开对特定共享文件夹的权限，我们改为【读/写】

#### 配置网口直连

进入【工具】--> 【系统设备】页面，我们可以配置网卡直通，这样的目的是虚拟机可以直接使用网卡，而不经过unraid这个宿主机，大幅提高虚拟机的网络性能：

![img](https://images.altriayu.uk/blog/1761012968597-d3603ff4-b848-431b-afb8-9b4ae51262cb.png)

对于一个四网口机器，我的建议是配置三个网卡做直通。保留一个网卡给unraid，这样，我们可以通过这个网卡访问到unraid本身

### 通过虚拟机刷入openwrt

这一步的主要目的是我们使用OpenWrt作为我们的路由器系统，代替我们家自己的路由器，让我们家的无线路由器仅仅作为一个无线交换机来使用。同时我们还可以在openWrt上开启翻墙功能，实现连接Wi-Fi的设备自动翻墙，不需要在终端安装翻墙软件。

#### 下载openwrt镜像

openWrt有多个分支和版本，我推荐使用OpenWrt-lite。系统镜像可以在这里下载：https://openwrt-lite.pages.dev/

OpenWrt-lite分为lite版本和server版本，这里我建议选择server版本。



#### 安装openwrt虚拟机

我们首先把下载的镜像放在共享目录的isos目录下。

然后进入unraid【虚拟机】页面，点击添加虚拟机，选择虚拟机类型为Linux，进入虚拟机配置页面。

![img](https://images.altriayu.uk/blog/1761012985021-9e481d24-8fe4-4fd5-b67a-8b0fa26a1b67.png)

![img](https://images.altriayu.uk/blog/1761012998770-6e1f9b5a-a764-4241-bb54-8956c8d68f9a.png)

主要有几个地方需要调整。一个是自动启动，勾选打开，第二个是CPU，建议至少分配两个核给虚拟机。第三个是【主要虚拟硬盘位置】，我们选择手动，然后在路径里指向我们上一步下载的镜像。最后一个则是其他PCI设备，我们勾选全部，这里就是把上一步配置的网卡直通的网卡给添加到虚拟机里面去。

配置完点击确定，即可添加虚拟机。

#### openwrt配置

虚拟机创建成功之后。我们点击虚拟机图标，选择VM Console，进入虚拟机控制台：

![img](https://images.altriayu.uk/blog/1761013014929-1a1d7466-5bf1-4c0b-933d-7958f129beab.png)

一路回车，直到屏幕上显示OpenWrt的字符画，即启动成功。

然后我们修改网络设置，在命令行输入:

```shell
vi /etc/config/network
```



![img](https://images.altriayu.uk/blog/1760928333608-df3747a2-51ad-44fd-acdc-615b5e82a014.png)

这里我们把ip地址和子网掩码配置好。

以我家为例子，我设置 ipaddr为10.31.1.1，子网掩码为255.255.0.0，这个网段正好包含进去了unraid和我家Wi-Fi路由器，因为我设置的anraid的静态ip为10.31.1.11，子网掩码为255.255.0.0，而Wi-Fi路由器的IP为10.31.0.1。

配置完路由器之后输入reboot命令完成重启即可。



将家里的WI-FI路由器的lan口与软路由相连接（注意是Wi-Fi路由器lan口插入OpenWrt lan口，这样的目的是把Wi-Fi路由器作为一个交换机使用），关闭Wi-Fi路由器的dhcp功能，配置一个静态IP。然后，我们就可以访问到OpenWrt的后台了，后台地址就是我们上一步设置的地址。



还记得我们分配了三个网卡给虚拟机吗？三个网卡也就对应三个网口。我们如此规划三个网口的作用：

1. 两个口作为lan口。其中一个连接家里的Wi-Fi路由器，另一个连接给unraid保留的网口，这样，WI-FI路由器可以上网，我们也能访问到unraid。
2. 一个口作为wan口，连接光猫，这样我们家里的网络就可以访问外网。

进入OpenWrt的【网络】--> 【接口】-->【设备】页面，配置br-lan，给他分配两个网口，我这里分配eth1和eth2：

![img](https://images.altriayu.uk/blog/1761013051044-b75a26e9-932d-4c80-b92c-f5f8395aabdd.png)

进入OpenWrt的【网络】--> 【接口】-->【接口】页面，配置wan口设备为最后一个网口，我这里为eth3, 协议根据自家网络情况而定，如果自家上光猫拨号，则设置为DHCP，如果路由器负责拨号，则设置为PPPOE，设置为PPPOE需要输入宽带的用户名和密码。

![img](https://images.altriayu.uk/blog/1761013059918-53e4c758-6c05-416b-b152-5dbc73c24d8c.png)



如此，家里的网络就恢复了，我们可以正常上网了。这里说几个可能遇到的小问题，其中一个是，OpenWrt默认的lan口只有一个，但是机器有四个网口。我们开始可能确定不了哪一个是lan口，插上路由器无法访问到OpenWrt，这时候就几个口挨个插一遍试试看。



能上网之后，我们下一步就是配置翻墙服务了，这里我们使用openWrt自带的nikki来翻墙，这个插件装机自带，不需要安装，只需要做一下简单的配置：

![img](https://images.altriayu.uk/blog/1760929697774-a5a21f15-f969-4f34-9f33-4d0ccd188458.png)



配置文件可以使用机场的订阅，也可以使用自己的配置文件

- 从订阅源下载

在 nikki - 配置文件 - 订阅中添加订阅源， 输入名称和订阅地址，保存后会自动下载配置文件；更新后选择保存并应用：

![img](https://images.altriayu.uk/blog/1760929811331-c6feacd7-121b-4337-95e6-f7d22a182d78.png)



在 nikki - 插件配置 - 插件配置中选择刚才下载或上传的配置文件，选择启用，保存并应用后在状态重启服务，就可以启动 Nikki 服务了

![img](https://images.altriayu.uk/blog/1760929849714-19a9de9d-bb23-4135-afbc-9747ff205776.png)

点击【插件配置】--> 【更新面板】，然后再点击【打开面板】，就能和clash一样选择翻墙节点了。



![img](https://images.altriayu.uk/blog/1760930000377-f2cff763-02dd-42b9-ab51-840e05760d43.png)

## Apple TV 准备

Apple TV是我们影视墙的终端设备，上述的一切配置都是为了Apple TV准备的。

### 注册美区账户

可以参考这个文章进行注册，这里不详细赘述：

https://zhuanlan.zhihu.com/p/101024418

### 购买软件

我们需要购买一个叫做infuse的软件，由于是美区账号，我们不能直接购买，因为没有美国信用卡，因此我们可以去淘宝购买礼品卡，用礼品卡充值之后进行购买。淘宝搜索【苹果美区礼品卡】即可。充值之后我们可以直接在AppleTV的App Store直接进行购买和下载。

## 构建影视墙

### 服务端搭建

回到unraid，我们点击【应用】，然后搜素【jellyfin】，点击安装：

![img](https://images.altriayu.uk/blog/1761013292089-c60501ab-79e7-42a0-81bf-71a19945e566.png)

注意这是一个docker容器，一路下一步到docker容器的设置页面：

![img](https://images.altriayu.uk/blog/1761013368194-24208398-10e8-402a-bd32-8f9406c63ec6.png)

这里我们只需要改两个参数，这两个参数指向我们创建的保存电影电视剧文件的目录，别的都不要改，点击应用。

等docker页面的jellyfin容器启动成功，我们在浏览器输入【unraid_ip:8096】即可访问到jellyfin了。

![img](https://images.altriayu.uk/blog/1761013517979-7b52828c-44c4-42fa-957f-91556f5f97d4.png)



这里说一下jellyfin的作用，它的作用是管理媒体文件，根据文件名主动匹配电影数据库网站上的信息，获取演员、海报等一切关于电影的信息。我们根据指引一路下一步，添加媒体库之后，就能看到自己的jellyfin页面了，如果你已经向目录里添加了电影，你将看到你的本地影视墙：

![img](https://images.altriayu.uk/blog/1761013972366-88bf47b2-1f5a-4722-847c-1c83597f5c28.png)

看不到也没有关系，点击左上角汉堡包图标，选择【控制台】，再点击扫描所有媒体库即可：



![img](https://images.altriayu.uk/blog/1761014189039-2e9424b9-edd9-49a5-a563-49f51a5e4a2a.png)

如果你只是用下一步提到的电视端App观看视频，那你可以跳过这里直接看下一步了，但是如果你想在手机端、浏览器也能观看，且有调整码率的需求，那你还需要开启硬件解码。

在右上角进入终端页面：

![img](https://images.altriayu.uk/blog/1761185386607-0bce73df-3ee3-493f-98dd-af87a7b25d38.png)

输入命令：

```shell
modprobe i915
```

然后输入：

```shell
ls /dev/dir
```

如果你能得到以下输出，就证明成功开启了：

```shell
by-path/ card0 renderD128
```

然后我们配置一下开机自动输入这条命令，输入命令：

```shell
vi /boot/config/go
```

在文件的最后一行，把命令加进去：

![img](https://images.altriayu.uk/blog/1761185685076-a760809b-6735-4353-8a9b-5763bf302066.png)

我们关掉终端窗口，继续在Jellyfin安装的设置页面最下面，点击ADD：

![img](https://images.altriayu.uk/blog/1761185712955-14b36fe7-c544-43f3-a85f-29a422cb3b5c.png)

![img](https://images.altriayu.uk/blog/1761185731105-7a7f8c18-3ce7-403e-b29d-d9fd5419aae3.png)

确认之后，等待容器重启。

重新进入jellyfin的网页，进入控制台，选择【播放】-->【转码】，按下图进行配置：

![img](https://images.altriayu.uk/blog/1761185844825-6ad7abb8-e6c8-4acf-a9bd-db1412a3ce6f.png)

我们测试一下硬件解码是否成功，选择任意一部电影，播放，然后调整码率：

![img](https://images.altriayu.uk/blog/1761186131915-d26e543c-8deb-4c57-ab03-fa224e0b78f9.png)

回到unraid，查看CPU占用情况：

![img](https://images.altriayu.uk/blog/1761186227219-89c8252c-a12d-4631-9f3e-2ac7e876a908.png)

很好，只有50%！，配置成功！

### 电视端接入

在电视端，我们拿起上一步准备好的Apple TV，打开我们购买好的Infuse。点击右上角设置，进入设置界面：

![img](https://images.altriayu.uk/blog/1761121717517-b6f8a842-f0af-4650-baf4-339e14ed08db.png)

选择共享，进入共享管理页面

![img](https://images.altriayu.uk/blog/1761121734923-81489d51-3b3a-4384-b9ce-296eae9c1f11.png)

选择【添加媒体服务器】，然后选择【添加jellyfin】。填入ip地址、用户名、密码即可。

![img](https://images.altriayu.uk/blog/1761121763680-e96e4c1f-4079-4b40-a78a-10d84d0a62da.png)

同样的，你也可以添加别人搭建好的Jellyfin服务器，这样我们就不需要自己折腾那个软路由了，至于如何寻找这样的服务器，大家可以尝试去Telegram上找找